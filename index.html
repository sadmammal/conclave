<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-translate="pageTitle">Fantasy Conclave Vote</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Manrope:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="language-toggle">
      <button class="language-button active" data-lang="en">EN</button>
      <button class="language-button" data-lang="es">ES</button>
    </div>

    <div class="dark-mode-toggle">
      <button id="darkModeToggle" class="dark-mode-button">
        <span class="icon">ðŸŒ™</span>
        <span data-translate="darkModeText">Dark Mode</span>
      </button>
    </div>

    <div class="container">
      <div class="left-column">
        <h1
          class="text-2xl font-semibold text-gray-800 mb-4"
          data-translate="mainTitle"
        >
          Fantasy Conclave Vote
        </h1>
        <p data-translate="introText1">
          Welcome to the Fantasy Conclave Vote! Cast your predictions for the
          next Pope and their chosen name.
        </p>
        <p data-translate="introText2">
          In Round 1, you will select *three* cardinals you believe are most
          likely to be elected. Your first pick is worth 5 points, your second 3
          points, and your third 1 point, *if* that cardinal is eventually
          elected.
        </p>
        <p data-translate="introText3">
          In Round 2, you will select 5 names from a list of historical papal
          names. If the elected cardinal chooses one of your names, you get 10
          points.
        </p>
      </div>
      <div class="right-column">
        <div class="mb-8">
          <label
            for="playerName"
            class="block text-lg font-semibold text-gray-700 mb-2 yourNameLabel"
            data-translate="yourNameLabel"
            >Your Name:</label
          >
          <input
            type="text"
            id="playerName"
            name="playerName"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            required
          />
        </div>

        <div class="mb-8 p-6 rounded-lg border border-gray-200 shadow-none">
          <h2
            class="text-2xl font-semibold text-gray-800 mb-4"
            data-translate="round1Title"
          >
            Round 1: Pick Your Papabili (Top 3)
          </h2>
          <p class="text-gray-600 mb-6" data-translate="round1Instructions">
            Click on the three cardinals you predict will be elected, in order
            of likelihood.
          </p>
          <ul class="list-disc list-inside text-gray-700 mb-6">
            <li data-translate="round1Points1">
              1st Pick (first click): 5 points
            </li>
            <li data-translate="round1Points2">
              2nd Pick (second click): 3 points
            </li>
            <li data-translate="round1Points3">
              3rd Pick (third click): 1 point
            </li>
          </ul>
          <p class="text-sm text-gray-500 mb-6" data-translate="round1Deselect">
            Click a selected cardinal again to deselect them.
          </p>

          <form id="cardinalForm" aria-label="Cardinal Selection Form">
            <div class="candidate-grid" id="candidateGrid"></div>
          </form>
        </div>

        <div class="mb-8 p-6 rounded-lg border border-gray-200 shadow-none">
          <h2
            class="text-2xl font-semibold text-gray-800 mb-4"
            data-translate="round2Title"
          >
            Round 2: Pick Your Papal Names
          </h2>
          <p class="text-gray-600 mb-6" data-translate="round2Instructions">
            Select 5 names from the list below. If the eventual Pope chooses one
            of your names, you get 10 points.
          </p>

          <ul class="papal-name-list" id="papalNameList"></ul>
          <p class="text-sm text-gray-500 mt-4" data-translate="round2Note">
            Note: It includes Popes and Antipopes names.
          </p>
        </div>

        <div class="text-center mt-8 submit-button-container">
          <div class="button-wrapper">
            <button
              id="submitBtn"
              class="submit-button"
              data-translate="submitButton"
            >
              Submit Your Picks
            </button>
            <button
              id="resetBallotButton"
              class="reset-button"
              data-translate="resetButton"
            >
              Reset Ballot
            </button>
          </div>
        </div>

        <div
          id="submissionOutput"
          class="mt-8 p-6 bg-yellow-50 rounded-lg border border-yellow-200 hidden submission-output"
        >
          <h3 data-translate="submissionOutputTitle">Your Submission:</h3>
          <pre id="outputContent"></pre>
        </div>
        <p class="footer-text text-gray-700 mt-8" data-translate="footerText">
          May your chosen candidate be guided by divine wisdom.
        </p>
      </div>
    </div>

    <div id="confirmationModalOverlay" class="modal-overlay">
      <div class="modal-content">
        <h3 data-translate="confirmModalTitle">Confirm Your Selection</h3>
        <p data-translate="confirmModalPicksLabel">You have selected:</p>
        <ul id="modalCardinalPicks" class="text-left mb-4"></ul>
        <p data-translate="confirmModalNamesLabel">
          And the following Papal Names:
        </p>
        <ul id="modalPapalNamePicks" class="text-left mb-4"></ul>
        <div class="modal-buttons">
          <button
            id="confirmSubmitButton"
            class="modal-button confirm"
            data-translate="confirmButton"
          >
            Confirm
          </button>
          <button
            id="cancelSubmitButton"
            class="modal-button cancel"
            data-translate="cancelButton"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>

    <div id="validationModalOverlay" class="modal-overlay">
      <div class="modal-content validation-modal-content">
        <h3 data-translate="validationModalTitle">Validation Error</h3>
        <p id="validationModalMessage"></p>
        <div class="modal-buttons">
          <button
            id="validationModalOkButton"
            class="modal-button ok"
            data-translate="okButton"
          >
            OK
          </button>
        </div>
      </div>
    </div>
  </body>
  <script src="script.js"></script>
</html>
